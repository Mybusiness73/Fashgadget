<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FashGadget</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f5f9ff;
      margin: 0;
      padding: 0;
      color: #222;
    }
    header {
      background-color: #003366;
      color: gold;
      padding: 20px;
      text-align: center;
    }
    .products {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 20px;
      padding: 20px;
    }
    .product {
      background-color: #fff;
      border-radius: 10px;
      padding: 10px;
      text-align: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .product img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 8px;
      cursor: pointer;
    }
    .cart, .admin-panel, .order-box, .review-section {
      background-color: #fff;
      margin: 20px;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .footer {
      text-align: center;
      padding: 20px;
      color: #555;
    }
    input, select, button, textarea {
      padding: 8px;
      margin: 5px 0;
      width: 100%;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-family: inherit;
    }
    button {
      background-color: #003366;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #002244;
    }
    .hidden-tap {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 50px;
      height: 50px;
      opacity: 0;
      z-index: 9999;
    }
    .search-bar {
      padding: 10px;
      text-align: center;
    }
    .search-bar input {
      width: 60%;
    }
    #productModal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.7);
      display: none;
      justify-content: center;
      align-items: center;
    }
    #modalContent {
      background: white;
      border-radius: 10px;
      padding: 20px;
      width: 90%;
      max-width: 600px;
      max-height: 90vh;
      overflow-y: auto;
    }
    #modalContent img {
      width: 100%;
      margin-bottom: 10px;
      border-radius: 8px;
    }
    .review {
      padding: 10px;
      border-bottom: 1px solid #ddd;
    }
  </style>
</head>
<body>

  <header>
    <h1>FashGadget</h1>
    <p>Tech & Fashion for Everyone</p>
  </header>

  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="Search products..." onkeyup="searchProducts()" />
  </div>

  <div class="products" id="product-list"></div>

  <div class="cart">
    <h3>Your Cart (<span id="cart-count">0</span> items)</h3>
    <ul id="cart-items"></ul>
    <p><strong>Total:</strong> â‚¦<span id="total-amount">0</span></p>

    <label>Full Name:</label>
    <input type="text" id="fullname" placeholder="Your name" required>

    <label>Phone Number:</label>
    <input type="text" id="phone" placeholder="Your phone number" required>

    <label>Delivery Address:</label>
    <input type="text" id="address" placeholder="Street, house no, etc" required>

    <label>State:</label>
    <select id="state">
      <option value="">-- Select State --</option>
      <option value="Lagos">Lagos</option>
      <option value="Ibadan">Ibadan</option>
      <option value="Osun">Osun</option>
      <option value="Akure">Akure</option>
      <option value="Ekiti">Ekiti</option>
      <option value="Oyo">Oyo</option>
      <option value="Other">Other</option>
    </select>

    <button onclick="submitOrder()">Submit Order</button>
  </div>
    <div class="review-section">
    <h3>Customer Reviews</h3>
    <div id="reviews-list"></div>
  </div>

  <div class="footer">
    <p><strong>Opay Account:</strong> Sulaimon Olamide Salimo<br>
    Account Number: <strong>8108964507</strong></p>
    <p>&copy; 2025 FashGadget</p>
  </div>

  <div class="hidden-tap" onclick="handleAdminTap()"></div>

  <div class="admin-panel" id="adminPanel" style="display: none;">
    <h3>Admin Panel</h3>
    <div id="adminLoginBox">
      <label>Password:</label>
      <input type="password" id="adminPass" placeholder="Enter password" />
      <button onclick="loginAdmin()">Login</button>
    </div>
    <div id="adminArea" style="display:none;">
      <h4>Add / Edit Product</h4>
      <input type="text" id="prodName" placeholder="Product Name" />
      <input type="number" id="prodPrice" placeholder="Price" />
      <input type="number" id="prodStock" placeholder="Stock" />
      <input type="text" id="prodSizes" placeholder="Sizes (comma separated)" />
      <textarea id="prodDesc" placeholder="Product Description"></textarea>
      <input type="text" id="prodImgs" placeholder="Image URLs (comma separated)" />
      <button onclick="addProduct()">Save Product</button>

      <h4>Products</h4>
      <ul id="adminProductList"></ul>
    </div>
  </div>

  <div id="productModal">
    <div id="modalContent"></div>
  </div>

  <input type="file" id="reviewImageInput" accept="image/*" style="display:none;" onchange="previewReviewImage(event)" />
  <script>
  const products = [
    {
      id: 0,
      name: "Bluetooth Smartwatch",
      price: 28000,
      stock: 5,
      images: [
        "https://i.imgur.com/8uMiO7D.jpeg",
        "https://i.imgur.com/lWbssiO.jpeg",
        "https://i.imgur.com/hRoMhrK.jpeg"
      ],
      description: "Track your steps, heart rate, and messages in style.",
      sizes: ["S", "M", "L", "XL"],
      reviews: []
    },
    {
      id: 1,
      name: "Couple Matching Techwear",
      price: 45000,
      stock: 3,
      images: [
        "https://i.imgur.com/l6yy92y.jpeg",
        "https://i.imgur.com/VZa8Mgn.jpeg",
        "https://i.imgur.com/imB9Odu.jpeg"
      ],
      description: "Trendy up & down outfit for couples. Great fit and quality.",
      sizes: ["S", "M", "L", "XL"],
      reviews: []
    }
  ];

  let cart = [];
  let adminClicks = 0;

  function renderProducts(list = products) {
    const el = document.getElementById("product-list");
    el.innerHTML = "";
    list.forEach((p, index) => {
      const div = document.createElement("div");
      div.className = "product";
      div.innerHTML = `
        <img src="${p.images[0]}" onclick="showProductModal(${index})" />
        <h4>${p.name}</h4>
        <p>â‚¦${p.price.toLocaleString()}</p>
        <p>Stock: ${p.stock}</p>
        <input type="number" id="qty-${index}" min="1" max="${p.stock}" value="1" />
        <button onclick="addToCart(${index})">Add to Cart</button>
      `;
      el.appendChild(div);
    });
  }

  function addToCart(index) {
    const qty = parseInt(document.getElementById(`qty-${index}`).value);
    if (qty > products[index].stock) {
      alert("Not enough stock");
      return;
    }
    cart.push({ ...products[index], quantity: qty });
    products[index].stock -= qty;
    renderProducts();
    updateCart();
  }

  function updateCart() {
    const list = document.getElementById("cart-items");
    list.innerHTML = "";
    let total = 0, count = 0;
    cart.forEach((item, i) => {
      const li = document.createElement("li");
      li.textContent = `${item.name} (x${item.quantity}) - â‚¦${(item.price * item.quantity).toLocaleString()}`;
      const removeBtn = document.createElement("button");
      removeBtn.textContent = "âŒ";
      removeBtn.onclick = () => removeFromCart(i);
      li.appendChild(removeBtn);
      list.appendChild(li);
      count += item.quantity;
      total += item.price * item.quantity;
    });
    document.getElementById("cart-count").textContent = count;
    document.getElementById("total-amount").textContent = total.toLocaleString();
  }

  function removeFromCart(index) {
    const item = cart[index];
    products.find(p => p.id === item.id).stock += item.quantity;
    cart.splice(index, 1);
    renderProducts();
    updateCart();
  }

  function submitOrder() {
    const name = document.getElementById("fullname").value;
    const phone = document.getElementById("phone").value;
    const address = document.getElementById("address").value;
    const state = document.getElementById("state").value;
    if (!name || !phone || !address || !state || cart.length === 0) {
      alert("Please complete all fields and cart.");
      return;
    }

    const order = cart.map(i => `${i.name} (x${i.quantity})`).join(", ");
    const total = cart.reduce((sum, i) => sum + i.price * i.quantity, 0);

    const msg = `Hello, FashGadget. I just made my payment and have uploaded the receipt. Kindly confirm and proceed with my order. Thank you!\n\nðŸ‘¤ Name: ${name}\nðŸ“ž Phone: ${phone}\nðŸ¡ Address: ${address}, ${state}\nðŸ›ï¸ Order: ${order}\nðŸ’³ Total: â‚¦${total.toLocaleString()}`;
    window.location.href = `https://wa.me/2349132888197?text=${encodeURIComponent(msg)}`;
  }

  function handleAdminTap() {
    adminClicks++;
    if (adminClicks >= 6) {
      document.getElementById("adminPanel").style.display = "block";
      adminClicks = 0;
    }
  }

  function loginAdmin() {
    const pass = document.getElementById("adminPass").value;
    if (pass === "Busayomi1") {
      document.getElementById("adminLoginBox").style.display = "none";
      document.getElementById("adminArea").style.display = "block";
      renderAdminProducts();
    } else {
      alert("Wrong password.");
    }
  }

  function renderAdminProducts() {
    const list = document.getElementById("adminProductList");
    list.innerHTML = "";
    products.forEach((p, i) => {
      const li = document.createElement("li");
      li.textContent = `${p.name} - â‚¦${p.price} (Stock: ${p.stock})`;
      const del = document.createElement("button");
      del.textContent = "âŒ";
      del.onclick = () => {
        products.splice(i, 1);
        renderProducts();
        renderAdminProducts();
      };
      li.appendChild(del);
      list.appendChild(li);
    });
  }

  function addProduct() {
    const name = document.getElementById("prodName").value.trim();
    const price = parseInt(document.getElementById("prodPrice").value);
    const stock = parseInt(document.getElementById("prodStock").value);
    const sizes = document.getElementById("prodSizes").value.split(",").map(s => s.trim());
    const desc = document.getElementById("prodDesc").value.trim();
    const images = document.getElementById("prodImgs").value.split(",").map(i => i.trim());

    if (!name || !price || !images.length) {
      alert("Please fill all product fields");
      return;
    }

    products.push({ id: Date.now(), name, price, stock, sizes, description: desc, images, reviews: [] });
    renderProducts();
    renderAdminProducts();
    alert("Product added!");
  }

  function showProductModal(index) {
    const p = products[index];
    const modal = document.getElementById("productModal");
    const html = `
      <h3>${p.name}</h3>
      ${p.images.map(i => `<img src="${i}" />`).join("")}
      <p><strong>Description:</strong> ${p.description}</p>
      <p><strong>Price:</strong> â‚¦${p.price.toLocaleString()}</p>
      <p><strong>Available Sizes:</strong> ${p.sizes.join(", ")}</p>
      <button onclick="addToCart(${index})">Add to Cart</button>
    `;
    document.getElementById("modalContent").innerHTML = html;
    modal.style.display = "flex";
    modal.onclick = () => modal.style.display = "none";
  }

  function searchProducts() {
    const val = document.getElementById("searchInput").value.toLowerCase();
    const results = products.filter(p => p.name.toLowerCase().includes(val));
    renderProducts(results);
  }

  window.onload = () => renderProducts();
</script>

</body>
</html>
