<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FashGadget</title>
  <link rel="stylesheet" href="style.css">
  <script defer src="products.js"></script>
  <script defer src="cart.js"></script>
  <script defer src="reviews.js"></script>
</head>
<body>
  <header>
    <h1>FashGadget</h1>
    <div class="cart-info">ğŸ›’ Cart: <span id="cart-count">0</span></div>
  </header>

  <main>
    <section id="product-list" class="product-section"></section>

    <section id="checkout" class="checkout-section">
      <h2>Checkout</h2>
      <input type="text" id="customer-name" placeholder="Full Name" required>
      <input type="text" id="customer-address" placeholder="Address" required>
      <select id="customer-location">
        <option value="">City/State</option>
        <option value="Lagos">Lagos</option>
        <option value="Ibadan">Ibadan</option>
        <option value="Ikire School Area">Ikire School Area</option>
        <option value="Other">Other</option>
      </select>
      <p>Delivery Fee: â‚¦<span id="delivery-fee">0</span></p>
      <p>Total: â‚¦<span id="total-amount">0</span></p>
      <button id="whatsapp-order">Order via WhatsApp</button>
    </section>

    <section id="reviews-section"></section>
  </main>

  <footer>
    <p>&copy; 2025 FashGadget | WhatsApp: 09132888197</p>
    <div id="secret-tap" onclick="triggerAdminTap()"></div>
  </footer>

  <script>
    let tapCount = 0;
    function triggerAdminTap() {
      tapCount++;
      if (tapCount >= 6) {
        window.location.href = "admin.html";
      }
      setTimeout(() => tapCount = 0, 3000);
    }
  </script>
</body>
</html>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
body {
  font-family: 'Segoe UI', sans-serif;
  background: #f7f9fc;
  color: #222;
  padding-bottom: 100px;
}

/* Header */
header {
  background: #003366;
  color: #fff;
  padding: 20px;
  text-align: center;
  position: sticky;
  top: 0;
  z-index: 999;
}
header h1 {
  font-size: 24px;
  letter-spacing: 1px;
}
.cart-info {
  background: #ffd700;
  color: #000;
  display: inline-block;
  padding: 6px 15px;
  border-radius: 20px;
  font-size: 14px;
  margin-top: 10px;
}

/* Product Section */
.product-section {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 20px;
  padding: 20px;
}
.product-card {
  background: #fff;
  border-radius: 10px;
  padding: 10px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  text-align: center;
  transition: transform 0.2s;
}
.product-card:hover {
  transform: scale(1.02);
}
.product-card img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 6px;
}
.product-card h3 {
  font-size: 16px;
  margin: 10px 0 5px;
}
.product-card p {
  font-size: 14px;
}
.product-card button {
  background: #003366;
  color: white;
  border: none;
  padding: 8px 15px;
  margin-top: 10px;
  border-radius: 6px;
  cursor: pointer;
}

/* Checkout */
.checkout-section {
  background: #fff;
  padding: 20px;
  margin: 20px;
  border-radius: 12px;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}
.checkout-section input,
.checkout-section select {
  width: 100%;
  padding: 10px;
  margin: 8px 0;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 14px;
}
.checkout-section button {
  background: #ffd700;
  border: none;
  padding: 12px;
  font-size: 16px;
  width: 100%;
  margin-top: 10px;
  border-radius: 6px;
  cursor: pointer;
}

/* Reviews */
#reviews-section {
  background: #fff;
  max-width: 700px;
  margin: 40px auto;
  padding: 20px;
  border-radius: 10px;
}
#reviews-section h3, #reviews-section h4 {
  margin-bottom: 10px;
}
#reviews-section input, #reviews-section textarea, #reviews-section select {
  width: 100%;
  padding: 10px;
  margin: 6px 0;
  border-radius: 6px;
  border: 1px solid #ccc;
}
#reviews-section button {
  background: #003366;
  color: #fff;
  border: none;
  padding: 10px;
  border-radius: 6px;
  cursor: pointer;
}
.review-card {
  border-bottom: 1px solid #eee;
  padding: 10px 0;
}

/* Footer */
footer {
  background: #003366;
  color: #fff;
  padding: 15px;
  text-align: center;
  position: fixed;
  width: 100%;
  bottom: 0;
}

/* Secret Admin Tap */
#secret-tap {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 30px;
  height: 30px;
}
const products = [
  {
    id: 1,
    name: "Wireless Earpods",
    price: 12000,
    costPrice: 8000,
    image: "https://i.imgur.com/FiUKn1j.jpg",
    rating: 4
  },
  {
    id: 2,
    name: "Men's Smartwatch",
    price: 18500,
    costPrice: 12500,
    image: "https://i.imgur.com/fRxqg3R.jpg",
    rating: 5
  },
  {
    id: 3,
    name: "Couple Sneakers",
    price: 27000,
    costPrice: 20000,
    image: "https://i.imgur.com/j5MfMtw.jpg",
    rating: 4
  },
  {
    id: 4,
    name: "Gaming Headset",
    price: 15000,
    costPrice: 11000,
    image: "https://i.imgur.com/xGBmjJr.jpg",
    rating: 5
  }
];

window.addEventListener("DOMContentLoaded", () => {
  const productList = document.getElementById("product-list");
  products.forEach(product => {
    const div = document.createElement("div");
    div.className = "product-card";
    div.innerHTML = `
      <img src="${product.image}" alt="${product.name}">
      <h3>${product.name}</h3>
      <p><strong>â‚¦${product.price.toLocaleString()}</strong></p>
      <p>${"â­".repeat(product.rating)}${"â˜†".repeat(5 - product.rating)}</p>
      <button onclick="addToCart(${product.id})">Add to Cart</button>
    `;
    productList.appendChild(div);
  });
});
let cart = [];

function addToCart(productId) {
  const product = products.find(p => p.id === productId);
  if (product) {
    cart.push(product);
    updateCartCount();
    updateTotal();
  }
}

function updateCartCount() {
  document.getElementById("cart-count").textContent = cart.length;
}

function updateTotal() {
  const delivery = getDeliveryFee();
  const total = cart.reduce((sum, item) => sum + item.price, 0) + delivery;
  document.getElementById("total-amount").textContent = total.toLocaleString();
  document.getElementById("delivery-fee").textContent = delivery.toLocaleString();
}

function getDeliveryFee() {
  const location = document.getElementById("customer-location").value;
  if (location === "Lagos") return 5000;
  if (location === "Ibadan") return 1500;
  if (location === "Ikire School Area") return 500;
  return 0;
}

document.getElementById("customer-location").addEventListener("change", updateTotal);

document.getElementById("whatsapp-order").addEventListener("click", () => {
  const name = document.getElementById("customer-name").value.trim();
  const address = document.getElementById("customer-address").value.trim();
  const location = document.getElementById("customer-location").value.trim();
  const fee = getDeliveryFee();
  const total = cart.reduce((sum, item) => sum + item.price, 0) + fee;

  if (!name || !address || !location || cart.length === 0) {
    alert("â— Please fill in all fields and add items.");
    return;
  }

  const items = cart.map(item => `- ${item.name} (â‚¦${item.price.toLocaleString()})`).join("\n");
  const message = `Hello FashGadget ğŸ‘‹,\n\nI want to order:\n${items}\n\nğŸ“¦ Name: ${name}\nğŸ“ Address: ${address}\nğŸ“ Location: ${location}\n\nğŸšš Delivery: â‚¦${fee.toLocaleString()}\nğŸ’µ Total: â‚¦${total.toLocaleString()}\n\nI'll pay on delivery.`;

  const whatsappURL = `https://wa.me/2349132888197?text=${encodeURIComponent(message)}`;
  window.open(whatsappURL, "_blank");
});
let allReviews = JSON.parse(localStorage.getItem("reviews") || "[]");

function renderReviews() {
  const section = document.getElementById("reviews-section");
  section.innerHTML = `<h3>Customer Reviews</h3>`;

  // Show approved reviews
  allReviews.filter(r => r.approved).forEach(r => {
    const div = document.createElement("div");
    div.className = "review-card";
    div.innerHTML = `
      <p><strong>${r.name}</strong> (${r.stars}â­): ${r.text}</p>
    `;
    section.appendChild(div);
  });

  // Review form
  const form = document.createElement("form");
  form.innerHTML = `
    <h4>Leave a Review</h4>
    <input type="text" id="rname" placeholder="Your name" required>
    <textarea id="rtext" placeholder="Your review" required></textarea>
    <label>Rating:
      <select id="rstars">
        <option value="5">â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸</option>
        <option value="4">â­ï¸â­ï¸â­ï¸â­ï¸</option>
        <option value="3">â­ï¸â­ï¸â­ï¸</option>
        <option value="2">â­ï¸â­ï¸</option>
        <option value="1">â­ï¸</option>
      </select>
    </label>
    <button type="submit">Submit Review</button>
  `;

  form.addEventListener("submit", e => {
    e.preventDefault();
    const name = document.getElementById("rname").value.trim();
    const text = document.getElementById("rtext").value.trim();
    const stars = document.getElementById("rstars").value;

    if (!name || !text) {
      alert("Please fill in all fields.");
      return;
    }

    const newReview = { name, text, stars, approved: false };
    allReviews.push(newReview);
    localStorage.setItem("reviews", JSON.stringify(allReviews));
    alert("âœ… Review submitted! It will show once approved.");
    form.reset();
  });

  section.appendChild(form);
}

window.addEventListener("DOMContentLoaded", renderReviews);
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FashGadget Admin</title>
  <link rel="stylesheet" href="style.css">
  <script defer src="admin.js"></script>
</head>
<body>
  <header>
    <h2>ğŸ”’ Admin Panel - FashGadget</h2>
  </header>

  <section id="login-section">
    <h3>Login</h3>
    <input type="text" id="admin-user" placeholder="Username"><br>
    <input type="password" id="admin-pass" placeholder="Password"><br>
    <button onclick="adminLogin()">Login</button>
  </section>

  <section id="admin-panel" style="display:none">
    <h3>â• Add Product</h3>
    <input type="text" id="pname" placeholder="Product Name"><br>
    <input type="text" id="pimage" placeholder="Image URL"><br>
    <input type="number" id="psell" placeholder="Selling Price"><br>
    <input type="number" id="pcost" placeholder="Cost Price"><br>
    <label>Rating:
      <select id="prating">
        <option value="5">â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸</option>
        <option value="4">â­ï¸â­ï¸â­ï¸â­ï¸</option>
        <option value="3">â­ï¸â­ï¸â­ï¸</option>
        <option value="2">â­ï¸â­ï¸</option>
        <option value="1">â­ï¸</option>
      </select>
    </label><br>
    <button onclick="addProduct()">Add Product</button>

    <h3>ğŸ›ï¸ All Products</h3>
    <ul id="product-list-admin"></ul>

    <h3>ğŸ’¬ Review Moderation</h3>
    <ul id="review-list-admin"></ul>
  </section>
</body>
</html>
let adminLoggedIn = false;
let reviewData = JSON.parse(localStorage.getItem("reviews") || "[]");
let productList = JSON.parse(localStorage.getItem("products") || "[]");

function adminLogin() {
  const user = document.getElementById("admin-user").value;
  const pass = document.getElementById("admin-pass").value;
  if (user === "admin" && pass === "SilverG@m3") {
    adminLoggedIn = true;
    document.getElementById("login-section").style.display = "none";
    document.getElementById("admin-panel").style.display = "block";
    loadProducts();
    loadReviews();
  } else {
    alert("Incorrect login!");
  }
}

function addProduct() {
  const name = document.getElementById("pname").value;
  const image = document.getElementById("pimage").value;
  const sell = parseInt(document.getElementById("psell").value);
  const cost = parseInt(document.getElementById("pcost").value);
  const rating = parseInt(document.getElementById("prating").value);

  const newProduct = {
    id: Date.now(),
    name,
    image,
    price: sell,
    costPrice: cost,
    rating
  };

  productList.push(newProduct);
  localStorage.setItem("products", JSON.stringify(productList));
  loadProducts();
}

function deleteProduct(id) {
  productList = productList.filter(p => p.id !== id);
  localStorage.setItem("products", JSON.stringify(productList));
  loadProducts();
}

function loadProducts() {
  const list = document.getElementById("product-list-admin");
  list.innerHTML = "";
  productList.forEach(p => {
    const li = document.createElement("li");
    const profit = p.price - p.costPrice;
    li.innerHTML = `
      <strong>${p.name}</strong><br>
      Sell: â‚¦${p.price.toLocaleString()} | Cost: â‚¦${p.costPrice.toLocaleString()} | Profit: â‚¦${profit.toLocaleString()}<br>
      <img src="${p.image}" width="80"><br>
      <button onclick="deleteProduct(${p.id})">Delete</button>
      <hr>
    `;
    list.appendChild(li);
  });
}

function loadReviews() {
  const reviewList = document.getElementById("review-list-admin");
  reviewList.innerHTML = "";
  reviewData.forEach((r, i) => {
    const li = document.createElement("li");
    li.innerHTML = `
      <strong>${r.name}</strong> (${r.stars}â­): ${r.text}<br>
      <button onclick="approveReview(${i})">âœ… Approve</button>
      <button onclick="deleteReview(${i})">âŒ Delete</button>
      <hr>
    `;
    reviewList.appendChild(li);
  });
}

function approveReview(i) {
  reviewData[i].approved = true;
  localStorage.setItem("reviews", JSON.stringify(reviewData));
  loadReviews();
}

function deleteReview(i) {
  reviewData.splice(i, 1);
  localStorage.setItem("reviews", JSON.stringify(reviewData));
  loadReviews();
}
